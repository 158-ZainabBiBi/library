!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/router"),require("@angular/forms"),require("@angular/common/http"),require("@ng-select/ng-select"),require("devextreme-angular"),require("ngx-icon-picker"),require("ngx-toastr"),require("@angular/http"),require("projects/locationlibrary/src/lib/services/http-call-servie.service"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("locationlibrary",["exports","@angular/core","@angular/common","@angular/router","@angular/forms","@angular/common/http","@ng-select/ng-select","devextreme-angular","ngx-icon-picker","ngx-toastr","@angular/http","projects/locationlibrary/src/lib/services/http-call-servie.service","rxjs/operators"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).locationlibrary={},e.ng.core,e.ng.common,e.ng.router,e.ng.forms,e.ng.common.http,e.ngSelect,e.devextremeAngular,e.ngxIconPicker,e.i3,e.ng.http,e.httpCallServie_service,e.rxjs.operators)}(this,(function(e,t,o,n,i,r,l,a,s,c,d,p,v){"use strict";function u(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var y=u(t),h=u(n),f=u(c),g=u(d),m=function(){};m.ɵprov=y.ɵɵdefineInjectable({factory:function(){return new m},token:m,providedIn:"root"}),m.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],m.ctorParameters=function(){return[]};var b=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();b.decorators=[{type:t.Component,args:[{selector:"lib-locationlibrary",template:"\n    <p>\n      locationlibrary works!\n    </p>\n  "}]}],b.ctorParameters=function(){return[]};var _="http://accounts.kitaas.edu.pk/#/",I="LocationManagementDev",D="LOCATION",S=function(){function e(e,t,o){this.http=e,this._router=t,this._toastr=o}return e.prototype.saveToken=function(e){return!!e&&(localStorage.setItem("access_token",e),!0)},e.prototype.saveDetail=function(e){return!!e&&(localStorage.setItem(I,JSON.stringify(e)),!0)},e.prototype.loadToken=function(){var e=localStorage.getItem("access_token");this.authToken=e},e.prototype.loaddetail=function(){var e=localStorage.getItem(I);return this.user=JSON.parse(e),this.user},e.prototype.logout=function(){return localStorage.removeItem(I),localStorage.removeItem("access_token"),window.location.assign(_+"logout?application_ID="+I),!0},e.prototype.logged=function(){var e=localStorage.getItem(I),t=localStorage.getItem("access_token");return!(!e||!t)},e}();S.ɵprov=y.ɵɵdefineInjectable({factory:function(){return new S(y.ɵɵinject(g.Http),y.ɵɵinject(h.Router),y.ɵɵinject(f.ToastrService))},token:S,providedIn:"root"}),S.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],S.ctorParameters=function(){return[{type:d.Http},{type:n.Router},{type:c.ToastrService}]};var w=function(){function e(e,t){this._toaster=e,this._loginService=t}return e.prototype.onFail=function(e){if("invalid_token"==e.error)return this._toaster.warning("Internal session expired. Logged in again ","Logged out"),void this._loginService.logout();if(0!=e.status)if(404!=e.status){if(!e.hasOwnProperty("_body"))return e.hasOwnProperty("message")?void this._toaster.warning("Message"," "+e.message):void this._toaster.error("check your internet connection","Error");var t=JSON.parse(e._body);if(e){if(e._body)return e.hasOwnProperty("_body")?400==t.status?void this._toaster.error("unknown error occured","Error"):"invalid_token"==t.error?(this._toaster.warning("Internal session expired. Logged in again ","Logged out"),void this._loginService.logout()):void this._toaster.error("unknown error occured","Error"):void this._toaster.error("Status: "+e.status+" Error: "+t.error+" Message: "+t.error_description,"Error");this._toaster.error("unknown error occured","Error")}else this._toaster.error("unknown error occured","Error")}else this._toaster.error("unknown error occured","Error");else this._toaster.error("Connection timed out","Error")},e}();w.ɵprov=y.ɵɵdefineInjectable({factory:function(){return new w(y.ɵɵinject(f.ToastrService),y.ɵɵinject(S))},token:w,providedIn:"root"}),w.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],w.ctorParameters=function(){return[{type:c.ToastrService},{type:S}]};var E=function(){function e(e,t){this.http=e,this.loginService=t,this.BaseUrl=this.loginService.loaddetail().applicationservice_PATH,this.AuthUrl=this.loginService.loaddetail().oauthservice_PATH}return e.prototype.api=function(e){return this.http.post(this.BaseUrl+"apigateway",e).pipe(v.map((function(e){return e.json()})))},e}();E.ɵprov=y.ɵɵdefineInjectable({factory:function(){return new E(y.ɵɵinject(g.Http),y.ɵɵinject(S))},token:E,providedIn:"root"}),E.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],E.ctorParameters=function(){return[{type:d.Http},{type:S}]};var x=function(){function e(e){this._HttpCallServieService_=e}return e.prototype.get=function(){var e={service_NAME:D,request_TYPE:"GET",request_URI:"lookup",request_BODY:""};return this._HttpCallServieService_.api(e)},e.prototype.getAll=function(){var e={service_NAME:D,request_TYPE:"GET",request_URI:"lookup/all",request_BODY:""};return this._HttpCallServieService_.api(e)},e.prototype.getOne=function(e){var t={service_NAME:D,request_TYPE:"GET",request_URI:"lookup/"+e,request_BODY:""};return this._HttpCallServieService_.api(t)},e.prototype.add=function(e){var t={service_NAME:D,request_TYPE:"POST",request_URI:"lookup",request_BODY:JSON.stringify(e)};return this._HttpCallServieService_.api(t)},e.prototype.update=function(e,t){var o={service_NAME:D,request_TYPE:"PUT",request_URI:"lookup/"+t,request_BODY:JSON.stringify(e)};return this._HttpCallServieService_.api(o)},e.prototype.delete=function(e){var t={service_NAME:D,request_TYPE:"DELETE",request_URI:"lookup/"+e,request_BODY:""};return this._HttpCallServieService_.api(t)},e.prototype.search=function(e){var t={service_NAME:D,request_TYPE:"POST",request_URI:"lookup/search",request_BODY:JSON.stringify(e)};return this._HttpCallServieService_.api(t)},e.prototype.searchAll=function(e){var t={service_NAME:D,request_TYPE:"POST",request_URI:"lookup/search/all",request_BODY:JSON.stringify(e)};return this._HttpCallServieService_.api(t)},e.prototype.advancedSearch=function(e){var t={service_NAME:D,request_TYPE:"POST",request_URI:"lookup/advancedsearch",request_BODY:JSON.stringify(e)};return this._HttpCallServieService_.api(t)},e.prototype.advancedSearchAll=function(e){var t={service_NAME:D,request_TYPE:"POST",request_URI:"lookup/advancedsearch/all",request_BODY:JSON.stringify(e)};return this._HttpCallServieService_.api(t)},e.prototype.lookup=function(e){var t={service_NAME:D,request_TYPE:"POST",request_URI:"lookup/entity",request_BODY:JSON.stringify({entityname:e})};return this._HttpCallServieService_.api(t)},e.prototype.entityList=function(){var e={service_NAME:D,request_TYPE:"GET",request_URI:"lookup/entitylist",request_BODY:""};return this._HttpCallServieService_.api(e)},e}();x.ɵprov=y.ɵɵdefineInjectable({factory:function(){return new x(y.ɵɵinject(E))},token:x,providedIn:"root"}),x.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],x.ctorParameters=function(){return[{type:p.HttpCallServieService}]};var O=function(){function e(e){this._HttpCallServieService_=e}return e.prototype.get=function(){var e={service_NAME:D,request_TYPE:"GET",request_URI:"location",request_BODY:""};return this._HttpCallServieService_.api(e)},e.prototype.getAll=function(){var e={service_NAME:D,request_TYPE:"GET",request_URI:"location/all",request_BODY:""};return this._HttpCallServieService_.api(e)},e.prototype.getOne=function(e){var t={service_NAME:D,request_TYPE:"GET",request_URI:"location/"+e,request_BODY:""};return this._HttpCallServieService_.api(t)},e.prototype.add=function(e){var t={service_NAME:D,request_TYPE:"POST",request_URI:"location",request_BODY:JSON.stringify(e)};return this._HttpCallServieService_.api(t)},e.prototype.update=function(e,t){var o={service_NAME:D,request_TYPE:"PUT",request_URI:"location/"+t,request_BODY:JSON.stringify(e)};return this._HttpCallServieService_.api(o)},e.prototype.delete=function(e){var t={service_NAME:D,request_TYPE:"DELETE",request_URI:"location/"+e,request_BODY:""};return this._HttpCallServieService_.api(t)},e.prototype.search=function(e){var t={service_NAME:D,request_TYPE:"POST",request_URI:"location/search",request_BODY:JSON.stringify(e)};return this._HttpCallServieService_.api(t)},e.prototype.searchAll=function(e){var t={service_NAME:D,request_TYPE:"POST",request_URI:"location/search/all",request_BODY:JSON.stringify(e)};return this._HttpCallServieService_.api(t)},e.prototype.advancedSearch=function(e){var t={service_NAME:D,request_TYPE:"POST",request_URI:"location/advancedsearch",request_BODY:JSON.stringify(e)};return this._HttpCallServieService_.api(t)},e.prototype.advancedSearchAll=function(e){var t={service_NAME:D,request_TYPE:"POST",request_URI:"location/advancedsearch/all",request_BODY:JSON.stringify(e)};return this._HttpCallServieService_.api(t)},e.prototype.getAllDetail=function(e){for(var t=0;t<e.length;t++)e[t].locationleveltype=e[t].locationleveltype_ID.code+" - "+e[t].locationleveltype_ID.description;return e},e.prototype.getDetail=function(e){return e.locationleveltype=e.locationleveltype_ID.code+" - "+e.locationleveltype_ID.description,"Y"==e.isactive?e.isactive=!0:e.isactive=!1,e},e}();O.ɵprov=y.ɵɵdefineInjectable({factory:function(){return new O(y.ɵɵinject(E))},token:O,providedIn:"root"}),O.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],O.ctorParameters=function(){return[{type:p.HttpCallServieService}]};var A=function(){function e(e,o,n,i,r){this.locationservice=e,this.locationleveltypeservice=o,this.toastrservice=n,this.onfailservice=i,this.router=r,this.view=1,this.iscompulsory=!1,this.isshowlables=!0,this.disabled=!1,this.all=!1,this.locationID=null,this.locationleveltypeID=null,this.locationparentID=null,this.edit=new t.EventEmitter,this.cancel=new t.EventEmitter,this.selectedLocation=new t.EventEmitter,this.viewLocation=new t.EventEmitter,this.locationleveltypeLABEL=null,this.locations=[],this.locationsAll=[],this.location={location_ID:0,location_NAME:"",location_CODE:"",location_DESC:"",locationleveltype_ID:{id:null},locationparent_ID:null,latitude:null,longitude:null,altitude:null,isactive:!0},this.search={locationleveltype_ID:null,locationparent_ID:null}}return e.prototype.ngOnInit=function(){this.locations=JSON.parse(window.sessionStorage.getItem("locations")),this.locationsAll=JSON.parse(window.sessionStorage.getItem("locationsAll")),1==this.view&&null==this.locations?this.locationGet():6==this.view&&(this.search={locationleveltype_ID:this.locationleveltypeID,locationparent_ID:this.locationparentID},this.locationGetAdvancedSearchAll(this.search),this.locationleveltypeGetOne(this.locationleveltypeID)),this.locationID&&this.locationGetOne(this.locationID)},e.prototype.onToolbarPreparing=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{width:136,text:"Refresh",onClick:this.locationGetAll.bind(this)}})},e.prototype.add=function(){this.addlocation.locationID=null,this.location={location_ID:0,location_NAME:"",location_CODE:"",location_DESC:"",locationleveltype_ID:{id:null},locationparent_ID:null,latitude:null,longitude:null,altitude:null,isactive:!0}},e.prototype.update=function(e){this.edit.next(e)},e.prototype.viewlocation=function(e){this.viewLocation.next(e)},e.prototype.changeLocation=function(e){for(var t=0;t<this.locationsAll.length;t++)e==this.locationsAll[t].location_ID&&this.selectedLocation.next(this.locationsAll[t])},e.prototype.searchLocation=function(e,t){this.locationleveltypeID=e,this.locationparentID=t,this.search={locationleveltype_ID:this.locationleveltypeID,locationparent_ID:this.locationparentID},this.locationGetAdvancedSearchAll(this.search)},e.prototype.refreshLocation=function(){this.locationGetAdvancedSearchAll(this.search)},e.prototype.locationEdit=function(){this.disabled=!1},e.prototype.locationCancel=function(){this.disabled=!0,0==this.location.location_ID&&this.router.navigate(["/home/locations"],{})},e.prototype.setlocations=function(e){1==this.view?(this.locations=e,window.sessionStorage.setItem("locations",JSON.stringify(this.locations))):(this.locationsAll=e,window.sessionStorage.setItem("locationsAll",JSON.stringify(this.locationsAll))),this.cancel.next()},e.prototype.locationGet=function(){var e=this;this.locationservice.get().subscribe((function(t){t&&(t.error&&t.status?e.toastrservice.warning("Message"," "+t.message):(t=e.locationservice.getAllDetail(t),e.setlocations(t)))}),(function(t){e.onfailservice.onFail(t)}))},e.prototype.locationGetAll=function(){var e=this;this.locationservice.getAll().subscribe((function(t){t&&(t.error&&t.status?e.toastrservice.warning("Message"," "+t.message):(t=e.locationservice.getAllDetail(t),e.setlocations(t)))}),(function(t){e.onfailservice.onFail(t)}))},e.prototype.locationGetOne=function(e){var t=this;this.locationservice.getOne(e).subscribe((function(e){e&&(e.error&&e.status?t.toastrservice.warning("Message"," "+e.message):(e=t.locationservice.getDetail(e),t.location=e,t.disabled=!0,t.selectedLocation.next(e)))}),(function(e){t.onfailservice.onFail(e)}))},e.prototype.locationGetAdvancedSearchAll=function(e){var t=this;this.locationservice.advancedSearchAll(e).subscribe((function(e){e&&(e.error&&e.status?t.toastrservice.warning("Message"," "+e.message):(e=t.locationservice.getAllDetail(e),t.setlocations(e)))}),(function(e){t.onfailservice.onFail(e)}))},e.prototype.locationAdd=function(e){var t=this;e.locationleveltype_ID=this.locationleveltype.locationleveltypeID,e.locationparent_ID=this.locationsearchfilter.searchfilterID(),this.locationservice.add(e).subscribe((function(e){e&&(e.error&&e.status?t.toastrservice.warning("Message"," "+e.message):e.location_ID?(t.toastrservice.success("Success","New Location Added"),t.locationGetAll()):t.toastrservice.error("Some thing went wrong"))}),(function(e){t.onfailservice.onFail(e)}))},e.prototype.locationUpdate=function(e){var t=this;e.locationleveltype_ID=this.locationleveltype.locationleveltypeID,e.locationparent_ID=this.editlocation.locationID,console.log(e),1==e.isactive?e.isactive="Y":e.isactive="N",this.locationservice.update(e,e.location_ID).subscribe((function(e){e&&(e.error&&e.status?t.toastrservice.warning("Message"," "+e.message):e.location_ID?(t.toastrservice.success("Success"," Location Updated"),t.locationGetAll()):t.toastrservice.error("Some thing went wrong"))}),(function(e){t.onfailservice.onFail(e)}))},e.prototype.locationleveltypeGetOne=function(e){var t=this;this.locationleveltypeservice.getOne(e).subscribe((function(e){e&&(e.error&&e.status?t.toastrservice.warning("Message"," "+e.message):t.locationleveltypeLABEL=e.description)}),(function(e){t.onfailservice.onFail(e)}))},e}();A.decorators=[{type:t.Component,args:[{selector:"app-location",template:'<div *ngIf="view==1" class="form-group">\r\n    <label class="custom-label form-label">Location\r\n      <span style="color: red;" [hidden]="disabled" *ngIf="iscompulsory==true">*</span>\r\n  </label>\r\n    <div class="row">\r\n        <div class="col-md-10">\r\n            <ng-select [(ngModel)]="locationID" [disabled]="disabled" name="locationID">\r\n                <ng-option *ngFor="let location of locations" [value]="location.location_ID" [disabled]="disabled">\r\n                    {{ location.location_CODE }} - {{ location.location_NAME }}\r\n                </ng-option>\r\n            </ng-select>\r\n        </div>\r\n        <div class="col-md-2">\r\n            <button type="button" class="btn btn-light ml-2" [hidden]="disabled" (click)="locationGet()">\r\n              <i class="fa fa-refresh" aria-hidden="true"></i>\r\n          </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf="view==2" class="form-group">\r\n    <div class="outer-div">\r\n        <div class="grid-wrapper">\r\n            <dx-data-grid #grid id="gridContainer" [dataSource]="locationsAll" keyExpr="location_ID" [showColumnLines]="true" [showRowLines]="true" [showBorders]="true" [rowAlternationEnabled]="true" [allowColumnResizing]="true" [columnMinWidth]="30"\r\n                [columnAutoWidth]="true" [remoteOperations]="true" height="600" width="100%"\r\n                (onToolbarPreparing)="onToolbarPreparing($event)">\r\n                <dxo-filter-row [visible]="true"></dxo-filter-row>\r\n                <dxo-header-filter [visible]="true"></dxo-header-filter>\r\n                <dxo-search-panel [visible]="true"></dxo-search-panel>\r\n                <dxo-group-panel [visible]="false"></dxo-group-panel>\r\n                <dxo-grouping #expand [autoExpandAll]="false"></dxo-grouping>\r\n                <dxo-scrolling mode="virtual"></dxo-scrolling>\r\n                <dxo-sorting mode="multiple"></dxo-sorting>\r\n                <dxo-selection mode="single"></dxo-selection>\r\n                <dxi-column [width]="75" [allowFiltering]="false" [allowSorting]="false" alignment="center" cellTemplate="cellTemplate"></dxi-column>\r\n                <dxi-column [width]="120" dataField="location_CODE" caption="Code" cssClass="myClass" alignment="center"></dxi-column>\r\n                <dxi-column [width]="300" dataField="location_NAME" caption="Name" cssClass="myClass" alignment="left"></dxi-column>\r\n                <dxi-column dataField="location_DESC" caption="Description" cssClass="myClass" alignment="left"></dxi-column>\r\n                <dxi-column [width]="300" dataField="locationparent_ID.location_NAME" caption="Parent Location" cssClass="myClass" alignment="center"></dxi-column>\r\n                <dxi-column [width]="300" dataField="locationleveltype" caption="Level Type" cssClass="myClass" alignment="center"></dxi-column>\r\n                <dxi-column [width]="100" dataField="isactive" caption="Active" cssClass="myClass" alignment="center"></dxi-column>\r\n\r\n                <div *dxTemplate="let data of \'cellTemplate\'">\r\n                    <a href="javascript:void" class="" (click)="viewlocation(data)">\r\n                        <i class="fa fa-eye" aria-hidden="true"></i></a>\r\n                </div>\r\n            </dx-data-grid>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf="view==3" class="form-group">\r\n    <form action="" class="form" (ngSubmit)="f.form.valid && locationAdd(location)" #f="ngForm" novalidate>\r\n        <div class="modal-body">\r\n            <div class="row">\r\n                <div class="col-md-6">\r\n                    <div class="form-group">\r\n                        <label class="control-label"> Location Code <span style="color:red">*</span></label>\r\n                        <input type="text" class="form-control" name="location_CODE" [(ngModel)]="location.location_CODE" maxlength="50" required>\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-6">\r\n                    <div class="form-group">\r\n                        <label class="control-label"> Location Name <span style="color:red">*</span></label>\r\n                        <input type="text" class="form-control" name="location_NAME" [(ngModel)]="location.location_NAME" maxlength="50" required>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-md-6">\r\n                        <app-locationleveltype #locationleveltype [iscompulsory]="true" [locationleveltypeID]="location.locationleveltype_ID"></app-locationleveltype>\r\n                </div>\r\n                <div class="col-md-6">\r\n                    <app-location #addlocation [view]="1"></app-location>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-md-12">\r\n                    <div class="form-group">\r\n                        <label class="control-label"> Location Description</label>\r\n                        <textarea rows="3" class="form-control" [(ngModel)]="location.location_DESC" name="location_DESC"></textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button type="submit" class="btn btn-primary" [disabled]="f.invalid">\r\n              <i class="fa fa-plus" aria-hidden="true"></i> Add\r\n          </button>\r\n            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>\r\n        </div>\r\n    </form>\r\n</div>\r\n\r\n<div *ngIf="view==4" class="form-group">\r\n    <form action="" class="form" (ngSubmit)="f.form.valid && locationUpdate(location)" #f="ngForm" novalidate>\r\n        <div class="modal-body">\r\n            <div class="row">\r\n                <div class="col-md-6">\r\n                    <div class="form-group">\r\n                        <label class="control-label"> Location Code <span style="color:red">*</span></label>\r\n                        <input type="text" class="form-control" name="location_CODE" [(ngModel)]="location.location_CODE" maxlength="50" required>\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-6">\r\n                    <div class="form-group">\r\n                        <label class="control-label"> Location Name <span style="color:red">*</span></label>\r\n                        <input type="text" class="form-control" name="location_NAME" [(ngModel)]="location.location_NAME" maxlength="50" required>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-md-6">\r\n                    <app-locationleveltype #locationleveltype [iscompulsory]="true" [locationleveltypeID]="location.locationleveltype_ID"></app-locationleveltype>\r\n                </div>\r\n                <div class="col-md-6">\r\n                    <app-location #editlocation [view]="1" [locationID]="location.locationparent_ID"></app-location>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-md-12">\r\n                    <div class="form-group">\r\n                        <label class="control-label"> Location Description</label>\r\n                        <textarea rows="3" class="form-control" [(ngModel)]="location.location_DESC" name="location_DESC"></textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-md-12">\r\n                    <div class="form-group">\r\n                        <div class="checkbox">\r\n                            <label class="control-label">\r\n                              <input type="checkbox" [checked]="location.isactive"\r\n                                  [(ngModel)]="location.isactive" name="isactive">\r\n                              Active\r\n                          </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button type="submit" class="btn btn-primary" [disabled]="f.invalid">\r\n              <i class="fa fa-plus" aria-hidden="true"></i> Update\r\n          </button>\r\n            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>\r\n        </div>\r\n    </form>\r\n</div>\r\n\r\n<div *ngIf="view==5" class="form-group">\r\n    <div class="modal-body">\r\n        <app-locationsearchfilter #locationsearchfilter [issearchfilter]=false *ngIf="disabled==false"></app-locationsearchfilter>\r\n        <div class="row">\r\n            <div class="col-md-4">\r\n                <div class="form-group">\r\n                    <label class="control-label"> Location Code\r\n                        <span style="color: red;" [hidden]="disabled">*</span>\r\n                    </label>\r\n                    <input type="text" class="form-control" name="location_CODE" [(ngModel)]="location.location_CODE" [disabled]=\'disabled\' required>\r\n                </div>\r\n            </div>\r\n            <div class="col-md-4">\r\n                <div class="form-group">\r\n                    <label class="control-label"> Location Name\r\n                        <span style="color: red;" [hidden]="disabled">*</span>\r\n                    </label>\r\n                    <input type="text" class="form-control" name="location_NAME" [(ngModel)]="location.location_NAME" [disabled]=\'disabled\' required>\r\n                </div>\r\n            </div>\r\n            <div class="col-md-4">\r\n                <app-locationleveltype #locationleveltype [disabled]=\'disabled\' [locationleveltypeID]="location.locationleveltype_ID.id"></app-locationleveltype>\r\n            </div>\r\n        </div>\r\n        <div class="row" *ngIf="location.location_ID!=0">\r\n            <div class="col-md-12">\r\n                <div class="form-group">\r\n                    <label class="control-label">Location Parent</label>\r\n                    <input type="text" class="form-control" name="locationparent_ID" [(ngModel)]="location.locationparent_ID.location_NAME" [disabled]=true>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="form-group">\r\n                    <label class="control-label"> Location Description</label>\r\n                    <textarea rows="3" class="form-control" [(ngModel)]="location.location_DESC" name="location_DESC" [disabled]=\'disabled\'></textarea>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row" *ngIf="location.location_ID!=0">\r\n            <div class="col-md-3">\r\n                <div class="form-group">\r\n                    <label class="control-label">Latitude</label>\r\n                    <input type="text" class="form-control" name="latitude" [(ngModel)]="location.latitude" [disabled]=\'disabled\'>\r\n                </div>\r\n            </div>\r\n            <div class="col-md-3">\r\n                <div class="form-group">\r\n                    <label class="control-label">Longitude</label>\r\n                    <input type="text" class="form-control" name="longitude" [(ngModel)]="location.longitude" [disabled]=\'disabled\'>\r\n                </div>\r\n            </div>\r\n            <div class="col-md-3">\r\n                <div class="form-group">\r\n                    <label class="control-label">Altitude</label>\r\n                    <input type="text" class="form-control" name="altitude" [(ngModel)]="location.altitude" [disabled]=\'disabled\'>\r\n                </div>\r\n            </div>\r\n            <div class="col-md-3">\r\n                <div class="form-group"><br /><br />\r\n                    <div class="checkbox">\r\n                        <label class="control-label">\r\n                            <input type="checkbox" [checked]="location.isactive"\r\n                                [(ngModel)]="location.isactive" [disabled]=\'disabled\' name="isactive">\r\n                            Active\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-md-3"></div>\r\n            <div class="col-md-3"></div>\r\n            <div class="col-md-3"></div>\r\n            <div class="col-md-3">\r\n                <button *ngIf="location.location_ID!=0 && disabled==true" (click)="locationEdit()" id="cancel" class="btn btn-primary"\r\n                    style="float: right;"> Edit\r\n                </button>\r\n                <button *ngIf="disabled==false" type="button" (click)=\'locationCancel()\' style="float: right;"\r\n                    class="btn btn-light" data-dismiss="modal"> Cancel\r\n                </button>\r\n                <button *ngIf="location.location_ID!=0 && disabled==false" type="button" data-dismiss="modal"\r\n                    style=" margin-right: 10px; float: right;" (click)=\'locationUpdate(location)\'\r\n                    class="btn btn-primary">\r\n                    Update\r\n                </button>\r\n                <button *ngIf="location.location_ID==0" type="button" data-dismiss="modal"\r\n                    style=" margin-right: 10px; float: right;" (click)=\'locationAdd(location)\'\r\n                    class="btn btn-primary">\r\n                    Save\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf="view==6" class="form-group">\r\n    <label *ngIf="isshowlables==true" class="custom-label form-label"> {{ locationleveltypeLABEL }}\r\n      <span style="color: red;" [hidden]="disabled" *ngIf="iscompulsory==true">*</span>\r\n  </label>\r\n    <div class="row">\r\n        <div class="col-md-10">\r\n            <ng-select [(ngModel)]="locationID" [disabled]="disabled" name="locationID" (change)="changeLocation($event)">\r\n                <ng-option *ngFor="let location of locationsAll" [value]="location.location_ID" [disabled]="disabled">\r\n                    {{ location.location_CODE }} - {{ location.location_NAME }}\r\n                </ng-option>\r\n            </ng-select>\r\n        </div>\r\n        <div class="col-md-2">\r\n            <button type="button" class="btn btn-light ml-2" [hidden]="disabled" (click)="refreshLocation()">\r\n              <i class="fa fa-refresh" aria-hidden="true"></i>\r\n          </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n',styles:[""]}]}],A.ctorParameters=function(){return[{type:O},{type:x},{type:c.ToastrService},{type:w},{type:n.Router}]},A.propDecorators={locationleveltype:[{type:t.ViewChild,args:["locationleveltype"]}],locationsearchfilter:[{type:t.ViewChild,args:["locationsearchfilter"]}],addlocation:[{type:t.ViewChild,args:["addlocation"]}],editlocation:[{type:t.ViewChild,args:["editlocation"]}],view:[{type:t.Input}],iscompulsory:[{type:t.Input}],isshowlables:[{type:t.Input}],disabled:[{type:t.Input}],all:[{type:t.Input}],locationID:[{type:t.Input}],locationleveltypeID:[{type:t.Input}],locationparentID:[{type:t.Input}],edit:[{type:t.Output}],cancel:[{type:t.Output}],selectedLocation:[{type:t.Output}],viewLocation:[{type:t.Output}]};var C=function(){function e(e,o,n){this.locationleveltypeservice=e,this.toastrservice=o,this.onfailservice=n,this.view=1,this.disabled=!1,this.issearchfilter=!0,this.isshowlables=!0,this.locationtypeID=10,this.locationID=0,this.locationsearchfilterID=0,this.advancedSearch=new t.EventEmitter,this.locationleveltypes=[],this.search={locationparent_ID:null}}return e.prototype.ngOnInit=function(){this.locationleveltypeGet()},e.prototype.searchfilter=function(){var e=this;this.locations.forEach((function(t){null!=t.locationID&&(e.search.locationparent_ID=t.locationID)})),this.advancedSearch.next(this.search)},e.prototype.searchfilterID=function(){var e;return this.locations.forEach((function(t){null!=t.locationID&&(e=t.locationID)})),e},e.prototype.reset=function(){},e.prototype.setLocation=function(e){var t=this;e.reverse(),e.forEach((function(e){t.locations.forEach((function(t){t.locationleveltypeID==e.locationleveltype_ID.id&&(t.locationID=e.location_ID),t.locationGetOne(e.location_ID)}))}))},e.prototype.selectedLocation=function(e){var t=this,o=!1;this.locations.forEach((function(n){1==o&&(n.searchLocation(n.locationleveltypeID,e.location_ID),o=!1,t.locationID=e.location_ID),n.locationleveltypeID==e.locationleveltype_ID.id&&(o=!0)})),this.locationID=e.location_ID},e.prototype.locationleveltypeGet=function(){var e=this;this.locationleveltypeservice.lookup("LOCATIONLEVELTYPE").subscribe((function(t){if(t)if(t.error&&t.status)e.toastrservice.warning("Message"," "+t.message);else{t[0].locationparentID=null,e.locationleveltypes.push(t[0]);for(var o=1;o<t.length;o++)t[o].locationparentID=-1,t[o].code<=e.locationtypeID&&e.locationleveltypes.push(t[o])}}),(function(t){e.onfailservice.onFail(t)}))},e}();C.decorators=[{type:t.Component,args:[{selector:"app-locationsearchfilter",template:'<div *ngIf="view==1" class="row">\r\n    <div class="col-md-12">\r\n        <div class="card-primary card">\r\n            <div class="card-header">\r\n                <div class="align-items-center row">\r\n                    <div class="col">\r\n                        <a href="javascript:void" aria-controls="collapse-customerinfo1" aria-expanded="true"\r\n                            class="card-title">Filter\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="card-body">\r\n                <div class="row">\r\n                    <div class="col-md-4" *ngFor="let locationleveltype of locationleveltypes">\r\n                        <app-location #locations [view]="6" [locationleveltypeID]="locationleveltype.id"\r\n                            [locationparentID]="locationleveltype.locationparentID"\r\n                            (selectedLocation)="selectedLocation($event)"></app-location>\r\n                    </div>\r\n                </div>\r\n                <div class="row" *ngIf="issearchfilter==true">\r\n                    <div class="col-md-12">\r\n                        <div class="form-group text-right">\r\n                            <button id="savebutton" class="btn btn-success ml-2" (click)="searchfilter()">\r\n                                Search\r\n                            </button>\r\n                            <button type="button" class="btn btn-light ml-2" (click)="reset()">\r\n                                Reset\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf="view==2" class="row">\r\n    <div class="col-md-12">\r\n        <div class="row">\r\n            <div class="col-md-6" *ngFor="let locationleveltype of locationleveltypes">\r\n                <app-location #locations [view]="6" [disabled]=\'disabled\' [locationleveltypeID]="locationleveltype.id"\r\n                    [locationparentID]="locationleveltype.locationparentID"\r\n                    (selectedLocation)="selectedLocation($event)"></app-location>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf="view==3" class="row">\r\n    <div class="col-md-12">\r\n        <div class="row">\r\n            <div class="col-md-4" *ngFor="let locationleveltype of locationleveltypes">\r\n                <app-location #locations [view]="6" [disabled]=\'disabled\' [locationleveltypeID]="locationleveltype.id"\r\n                    [locationparentID]="locationleveltype.locationparentID"\r\n                    (selectedLocation)="selectedLocation($event)"></app-location>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf="view==4" class="row">\r\n    <div class="col-md-12">\r\n        <div class="row">\r\n            <div class="col-md-12" *ngFor="let locationleveltype of locationleveltypes">\r\n                <app-location #locations [view]="6" [disabled]=\'disabled\' [isshowlables]="isshowlables" [locationleveltypeID]="locationleveltype.id"\r\n                    [locationparentID]="locationleveltype.locationparentID"\r\n                    (selectedLocation)="selectedLocation($event)"></app-location>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n',styles:[""]}]}],C.ctorParameters=function(){return[{type:x},{type:c.ToastrService},{type:w}]},C.propDecorators={locations:[{type:t.ViewChildren,args:[A]}],view:[{type:t.Input}],disabled:[{type:t.Input}],issearchfilter:[{type:t.Input}],isshowlables:[{type:t.Input}],locationtypeID:[{type:t.Input}],locationID:[{type:t.Input}],locationsearchfilterID:[{type:t.Input}],advancedSearch:[{type:t.Output}]};var M=function(){function e(e,t,o){this.locationleveltypeservice=e,this.toastrservice=t,this.onfailservice=o,this.iscompulsory=!1,this.disabled=!1,this.all=!1,this.locationleveltypeID=null,this.locationleveltypes=[]}return e.prototype.ngOnInit=function(){this.locationleveltypes=JSON.parse(window.sessionStorage.getItem("locationleveltypes")),null==this.locationleveltypes&&this.locationleveltypeGet(),!this.locationleveltypeID&&Number(window.sessionStorage.getItem("locationleveltype"))>0&&(this.locationleveltypeID=Number(window.sessionStorage.getItem("locationleveltype"))),this.locationleveltypeID&&window.sessionStorage.setItem("locationleveltype",this.locationleveltypeID)},e.prototype.setLocationType=function(e){this.locationleveltypes=e,window.sessionStorage.setItem("locationleveltypes",JSON.stringify(this.locationleveltypes))},e.prototype.locationleveltypeGet=function(){var e=this;this.locationleveltypeservice.lookup("LOCATIONLEVELTYPE").subscribe((function(t){t&&(t.error&&t.status?e.toastrservice.warning("Message"," "+t.message):e.setLocationType(t))}),(function(t){e.onfailservice.onFail(t)}))},e}();M.decorators=[{type:t.Component,args:[{selector:"app-locationleveltype",template:'<div class="form-group">\r\n    <label class="custom-label form-label">Location Level Type\r\n        <span style="color: red;" [hidden]="disabled" *ngIf="iscompulsory==true">*</span>\r\n    </label>\r\n    <div class="row">\r\n        <div class="col-md-10">\r\n            <ng-select [(ngModel)]="locationleveltypeID" [disabled]="disabled" name="locationleveltypeID" maxlength="50">\r\n                <ng-option *ngFor="let locationleveltype of locationleveltypes" [value]="locationleveltype.id" [disabled]="disabled">\r\n                    {{ locationleveltype.code }} - {{ locationleveltype.description }}\r\n                </ng-option>\r\n            </ng-select>\r\n        </div>\r\n        <div class="col-md-2">\r\n            <button type="button" class="btn btn-light ml-2" [hidden]="disabled" (click)="locationleveltypeGet()">\r\n                <i class="fa fa-refresh" aria-hidden="true"></i>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n',styles:[""]}]}],M.ctorParameters=function(){return[{type:x},{type:c.ToastrService},{type:w}]},M.propDecorators={iscompulsory:[{type:t.Input}],disabled:[{type:t.Input}],all:[{type:t.Input}],locationleveltypeID:[{type:t.Input}]};var q=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();q.decorators=[{type:t.NgModule,args:[{declarations:[b,A,M,C],imports:[n.RouterModule,r.HttpClientModule,i.FormsModule,l.NgSelectModule,o.CommonModule,a.DxMenuModule,a.DxRangeSelectorModule,a.DxPopupModule,a.DxChartModule,a.DxPieChartModule,a.DxVectorMapModule,a.DxDataGridModule,a.DxBulletModule,a.DxButtonModule,a.DxCheckBoxModule,a.DxSelectBoxModule,a.DxDropDownButtonModule,s.IconPickerModule],exports:[b]}]}],q.ctorParameters=function(){return[]},e.LocationlibraryComponent=b,e.LocationlibraryModule=q,e.LocationlibraryService=m,e["ɵa"]=A,e["ɵb"]=O,e["ɵc"]=x,e["ɵd"]=w,e["ɵe"]=S,e["ɵf"]=M,e["ɵg"]=C,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=locationlibrary.umd.min.js.map