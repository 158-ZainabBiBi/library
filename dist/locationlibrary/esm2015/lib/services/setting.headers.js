import { BaseRequestOptions } from '@angular/http';
import { settings } from '../settings';
export class RequestOptionsService extends BaseRequestOptions {
    constructor() {
        super();
        this.headers.set('Content-Type', 'application/json');
        this.headers.set("grant_type", "password");
    }
    merge(options) {
        const newOptions = super.merge(options);
        if (options.url) {
            if (options.url.search("/USERLOGIN/") !== -1) {
                var token = JSON.parse(localStorage.getItem(settings.application_ID)).basic_Token_;
            }
            else {
                var token = JSON.parse(localStorage.getItem(settings.application_ID)).access_token;
            }
            newOptions.headers.set('authorization', `bearer ${token}`);
            return newOptions;
        }
        else {
            newOptions.headers.set('authorization', `bearer ${JSON.parse(localStorage.getItem(settings.application_ID)).access_token}`);
            return newOptions;
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0dGluZy5oZWFkZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbG9jYXRpb25saWJyYXJ5L3NyYy9saWIvc2VydmljZXMvc2V0dGluZy5oZWFkZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBa0Isa0JBQWtCLEVBQXNCLE1BQU0sZUFBZSxDQUFDO0FBRXZGLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFdkMsTUFBTSxPQUFPLHFCQUFzQixTQUFRLGtCQUFrQjtJQUV6RDtRQUNJLEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLGtCQUFrQixDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFDRCxLQUFLLENBQUMsT0FBNEI7UUFDOUIsTUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN4QyxJQUFJLE9BQU8sQ0FBQyxHQUFHLEVBQUU7WUFDYixJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFO2dCQUMxQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDO2FBQ3RGO2lCQUFNO2dCQUNILElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUM7YUFDdEY7WUFDRCxVQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsVUFBVSxLQUFLLEVBQUUsQ0FBQyxDQUFDO1lBQzNELE9BQU8sVUFBVSxDQUFDO1NBQ3JCO2FBQU07WUFDSCxVQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsVUFBVSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztZQUM1SCxPQUFPLFVBQVUsQ0FBQztTQUNyQjtJQUNMLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcXVlc3RPcHRpb25zLCBCYXNlUmVxdWVzdE9wdGlvbnMsIFJlcXVlc3RPcHRpb25zQXJncyB9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xyXG5cclxuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICcuLi9zZXR0aW5ncyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUmVxdWVzdE9wdGlvbnNTZXJ2aWNlIGV4dGVuZHMgQmFzZVJlcXVlc3RPcHRpb25zIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldChcImdyYW50X3R5cGVcIiwgXCJwYXNzd29yZFwiKTtcclxuICAgIH1cclxuICAgIG1lcmdlKG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9uc0FyZ3MpOiBSZXF1ZXN0T3B0aW9ucyB7XHJcbiAgICAgICAgY29uc3QgbmV3T3B0aW9ucyA9IHN1cGVyLm1lcmdlKG9wdGlvbnMpO1xyXG4gICAgICAgIGlmIChvcHRpb25zLnVybCkge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy51cmwuc2VhcmNoKFwiL1VTRVJMT0dJTi9cIikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNldHRpbmdzLmFwcGxpY2F0aW9uX0lEKSkuYmFzaWNfVG9rZW5fO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRva2VuID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzZXR0aW5ncy5hcHBsaWNhdGlvbl9JRCkpLmFjY2Vzc190b2tlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdPcHRpb25zLmhlYWRlcnMuc2V0KCdhdXRob3JpemF0aW9uJywgYGJlYXJlciAke3Rva2VufWApO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3T3B0aW9ucztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuZXdPcHRpb25zLmhlYWRlcnMuc2V0KCdhdXRob3JpemF0aW9uJywgYGJlYXJlciAke0pTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oc2V0dGluZ3MuYXBwbGljYXRpb25fSUQpKS5hY2Nlc3NfdG9rZW59YCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXdPcHRpb25zO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0=